<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>教師共備社群</title>
</head>
<body>
  <h1>教師共備社群</h1>

  <button id="login">登入</button>
  <button id="logout">登出</button>

  <div id="content"></div>

  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script>
    const supabase = window.supabase.createClient(
      "你的 Project URL",
      "你的 anon key"
    )

    async function checkLogin() {
      const { data } = await supabase.auth.getUser()
      document.getElementById("content").innerText =
        data.user ? "已登入，可以進共備區" : "尚未登入"
    }

    document.getElementById("login").onclick = async () => {
      await supabase.auth.signInWithPassword({
        email: prompt("Email"),
        password: prompt("Password")
      })
      checkLogin()
    }

    document.getElementById("logout").onclick = async () => {
      await supabase.auth.signOut()
      checkLogin()
    }

    checkLogin()
  </script>
</body>
</html>
